---
Multistack template
---

SET Regions = "5"

STACK MakeMoreEIPs (string Power)
{
	MAKE MakeTwoElasticIPs M1 (WoofName = Power)
	MAKE MakeTwoElasticIPs M2 (WoofName = "Two")
	MAKE MakeTwoElasticIPs M3 (WoofName = Power)
	MAKE MakeTwoElasticIPs M4 (WoofName = "Four")
}

STACK MakeTwoElasticIPs (string WoofName)
{
	MAKE MakeAnElasticIP Woof (InstanceId = WoofName)
	MAKE MakeAnElasticIP Meow (InstanceId = "Goodbye")
	MAKE MakeAnother Cat (InstanceId = "Nyan")
	MAKE MakeAnother Cat (InstanceId = WoofName)

	RETURN (TheIP = Woof["InstanceId"])
}

STACK MakeAnElasticIP (string InstanceId)
{
	MAKE EIP ControlServerIP (InstanceId = Regions)

	RETURN (Result = ControlServerIP)
}

STACK MakeAnother (string InstanceId)
{
	MAKE EIP ControlAnotherServerIP (InstanceId = InstanceId)

	RETURN (Result = ControlServerIP)
}
